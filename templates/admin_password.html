{% extends 'admin_base.html' %}

{% block title %}Admin - Change Password{% endblock %}

{% block content %}
  <div class="admin-card p-5">
    <div class="flex items-start justify-between gap-4 flex-wrap">
      <div>
        <h1 class="text-2xl font-semibold text-slate-900">Change admin password</h1>
        <p class="text-slate-500 mt-1">Update the password for the currently signed-in admin account.</p>
      </div>
      <div class="text-sm text-slate-500">Signed in as <span class="font-semibold text-slate-900">{{ current_user.username }}</span></div>
    </div>
  </div>

  <div class="admin-card p-5 mt-6">
    <form method="post" action="{{ url_for('admin_password_post') }}" class="space-y-4">
      <div>
        <label class="text-sm font-semibold text-slate-800" for="current_password">Current password</label>
        <input class="admin-input mt-2" type="password" id="current_password" name="current_password" autocomplete="current-password" required />
      </div>

      <div>
        <label class="text-sm font-semibold text-slate-800" for="new_password">New password</label>
        <input class="admin-input mt-2" type="password" id="new_password" name="new_password" autocomplete="new-password" minlength="6" required />
        <div class="text-xs text-slate-500 mt-2">Minimum 6 characters.</div>
      </div>

      <div>
        <label class="text-sm font-semibold text-slate-800" for="new_password2">Confirm new password</label>
        <input class="admin-input mt-2" type="password" id="new_password2" name="new_password2" autocomplete="new-password" minlength="6" required />
      </div>

      <div class="flex items-center justify-between gap-3 flex-wrap pt-2">
        <a class="admin-btn admin-btn-soft" href="{{ url_for('admin_dashboard') }}">
          <span class="iconify" data-icon="mdi:arrow-left"></span>
          <span>Back</span>
        </a>
        <button class="admin-btn admin-btn-primary" type="submit">
          <span class="iconify" data-icon="mdi:lock-reset"></span>
          <span>Update password</span>
        </button>
      </div>
    </form>
  </div>
{% endblock %}
